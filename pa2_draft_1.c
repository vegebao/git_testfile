#define immJ() do { *imm=(SEXT(BITS(i,31,31),1)<<19) | BITS(i,12,19) | BITS(i,20,20) | BITS(i,21,30);} while(0)

INSTPAT("??????? ????? ????? ??? ????? 01101 11", lui    , U, R(dest) = imm);
  INSTPAT("??????? ????? ????? ??? ????? 00101 11", aupic  , U, R(dest)=imm+s->pc);
  INSTPAT("??????? ????? ????? 010 ????? 00000 11", lw     , I, R(dest) = Mr(src1 + imm, 4));//l means load, w means that the data width is 2 Byte
  /**/
  INSTPAT("??????? ????? ????? 000 ????? 00100 11", addi    ,I, R(dest)=R(src1)+imm);
  INSTPAT("??????? ????? ????? 010 ????? 01000 11", sw     , S, Mw(src1 + imm, 4, src2));//s means store
  INSTPAT("??????? ????? ????? ??? ????? 11011 11", jal    , J, s->dnpc=s->pc+imm;R(dest)=s->pc)

  INSTPAT("0000000 00001 00000 000 00000 11100 11", ebreak , N, NEMUTRAP(s->pc, R(10))); // R(10) is $a0
  
  INSTPAT("??????? ????? ????? ??? ????? ????? ??", inv    , N, INV(s->pc));

